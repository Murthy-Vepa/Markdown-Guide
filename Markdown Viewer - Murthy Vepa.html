<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Viewer with Mermaid</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/11.1.1/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            width: 100%;
            border-radius: 0;
            background: rgba(20, 20, 35, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 2px 30px rgba(0, 0, 0, 0.5),
                        inset 0 -1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: row;
            align-items: center;
            transition: transform 0.3s;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin: 0;
            padding: 8px 12px;
            gap: 10px;
            z-index: 1000;
            min-height: 50px;
            max-height: 120px;
            overflow: hidden;
        }

        .sidebar-header {
            padding: 5px 10px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            white-space: nowrap;
            flex-shrink: 1;
            min-width: 0;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

            .sidebar-header:hover {
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4),
                            inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

            .sidebar-header:active {
                transform: translateY(0);
            }

            .sidebar-header h2 {
                font-size: 1.1em;
                margin-bottom: 0;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .sidebar-header p {
                font-size: 0.75em;
                opacity: 0.9;
                margin: 0;
            }

        .menu-section {
            padding: 0;
            overflow-x: auto;
            overflow-y: hidden;
            flex: 1 1 auto;
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
        }

        .menu-section::-webkit-scrollbar {
            height: 4px;
        }

        .menu-section::-webkit-scrollbar-track {
            background: transparent;
        }

        .menu-section::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }

        .sidebar-footer {
            padding: 5px 10px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            flex-shrink: 0;
            border-radius: 0;
            margin-left: auto;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 6px;
            color: rgba(30, 30, 30, 0.8);
            font-size: 0.8em;
            white-space: nowrap;
        }

        .contact-info:hover {
            color: rgba(30, 30, 30, 1);
        }

        .contact-icon {
            font-size: 1.1em;
        }

        .contact-text {
            font-weight: 500;
            letter-spacing: 0.3px;
        }

            .menu-section h3 {
                display: none;
            }

        .menu-item {
            padding: 5px 10px;
            margin-bottom: 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: rgba(255, 255, 255, 0.8);
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            white-space: nowrap;
            flex-shrink: 0;
            font-size: 0.85em;
        }

            .menu-item:hover {
                background: rgba(255, 255, 255, 0.1);
                border-color: rgba(255, 255, 255, 0.15);
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            }

            .menu-item.active {
                background: linear-gradient(135deg, rgba(15, 52, 96, 0.8) 0%, rgba(22, 33, 62, 0.8) 100%);
                color: white;
                box-shadow: 0 6px 20px rgba(15, 52, 96, 0.5),
                            inset 0 1px 0 rgba(255, 255, 255, 0.2);
                border-color: rgba(255, 255, 255, 0.2);
            }

        .menu-icon {
            font-size: 1em;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
            margin: 0;
            padding: 88px 0px 0px 0px;
        }

        .container {
            flex: 1;
            margin: 0px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 0px;
            box-shadow: 0 0px 0px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: none;
        }

        .header-left h1 {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .header-left p {
            opacity: 0.9;
        }

        .mobile-menu-btn {
            display: none;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
        }

        .controls {
            position: fixed;
            top: 50px;
            left: 0;
            right: 0;
            width: 100%;
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.85);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            color: #4a5568;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-items: center;
            gap: 8px;
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.04);
            border-radius: 0px;
            margin: 0px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            z-index: 999;
            overflow-x: auto;
            overflow-y: hidden;
        }

            .controls b {
                color: rgba(0, 0, 0, 0.45);
                font-size: 0.7em;
                font-weight: 500;
                white-space: nowrap;
                margin: 0;
                text-transform: uppercase;
                letter-spacing: 0.3px;
                flex-shrink: 0;
            }
            
            .controls .btn {
                justify-content: center;
                padding: 5px 10px;
                background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                border: 1px solid rgba(16, 185, 129, 0.3);
                border-radius: 6px;
                color: white;
                font-size: 0.75em;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 1px 4px rgba(16, 185, 129, 0.2);
                white-space: nowrap;
            }

            .controls .btn:hover {
                background: linear-gradient(135deg, #059669 0%, #047857 100%);
                box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
                transform: translateY(-0.5px);
                color: white;
            }

        .control-group {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 6px;
            flex: 1 1 auto;
            min-width: 150px;
        }

        .url-input {
            flex: 1;
            padding: 5px 10px;
            border: 1px solid rgba(0, 0, 0, 0.15);
            border-radius: 6px;
            font-size: 0.75em;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.9);
            color: #4a5568;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
        }

            .url-input::placeholder {
                color: rgba(0, 0, 0, 0.4);
            }

            .url-input:focus {
                outline: none;
                border-color: rgba(102, 126, 234, 0.5);
                background: white;
                box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.08), 0 1px 2px rgba(0, 0, 0, 0.03);
                transform: none;
            }

        .btn {
            background: linear-gradient(105deg, rgba(15, 52, 96, 0.9) 0%, rgba(22, 33, 62, 0.9) 100%);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 6px 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            font-size: 0.85em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

            .btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(15, 52, 96, 0.4);
                border-color: rgba(255, 255, 255, 0.3);
            }

            .btn:active, .btnFullWidth:active {
                transform: translateY(0);
            }

            .btn:disabled, .btnFullWidth:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                transform: none;
            }

        .file-input-wrapper {
            position: relative;
            display: block;
            max-width: 100%;
        }

            .file-input-wrapper input[type="file"] {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                cursor: pointer;
            }

        .content {
            padding: 0px 25px;
            overflow-y: auto;
            flex: 1;
            background: white;
            scroll-padding-top: 100px;
        }

        .markdown-content {
            line-height: 1.8;
            color: #333;
        }
        
            /* Add scroll offset for anchor links to account for fixed headers */
            .markdown-content h1,
            .markdown-content h2,
            .markdown-content h3,
            .markdown-content h4,
            .markdown-content h5,
            .markdown-content h6 {
                scroll-margin-top: 100px;
            }

            .markdown-content h1,
            .markdown-content h2,
            .markdown-content h3,
            .markdown-content h4,
            .markdown-content h5,
            .markdown-content h6 {
                margin-top: 24px;
                margin-bottom: 16px;
                font-weight: 600;
                line-height: 1.25;
                color: #1a1a1a;
            }

            .markdown-content h1 {
                font-size: 2em;
                border-bottom: 2px solid #e9ecef;
                padding-bottom: 10px;
            }

            .markdown-content h2 {
                font-size: 1.5em;
                border-bottom: 1px solid #e9ecef;
                padding-bottom: 8px;
            }

            .markdown-content h3 {
                font-size: 1.25em;
            }

            .markdown-content p {
                margin-bottom: 16px;
            }

            .markdown-content code {
                background: #f6f8fa;
                padding: 3px 6px;
                border-radius: 4px;
                font-family: 'Courier New', monospace;
                font-size: 0.9em;
                color: #e83e8c;
            }

            .markdown-content pre {
                background: linear-gradient(135deg, #f8f9fa 0%, #f0f2f5 100%);
                padding: 20px;
                border-radius: 12px;
                overflow-x: auto;
                margin-bottom: 16px;
                border: 1px solid rgba(0, 0, 0, 0.08);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05),
                            inset 0 1px 0 rgba(255, 255, 255, 0.9);
                position: relative;
            }

                .markdown-content pre code {
                    background: none;
                    padding: 0;
                    color: #333;
                    font-size: 0.95em;
                    line-height: 1.6;
                }

            /* JSON Syntax Highlighting */
            .markdown-content pre code.language-json {
                display: block;
                white-space: pre;
            }

                .markdown-content pre code.language-json .json-key {
                    color: #0451a5;
                    font-weight: 500;
                }

                .markdown-content pre code.language-json .json-string {
                    color: #a31515;
                }

                .markdown-content pre code.language-json .json-number {
                    color: #098658;
                }

                .markdown-content pre code.language-json .json-boolean {
                    color: #0000ff;
                    font-weight: 600;
                }

                .markdown-content pre code.language-json .json-null {
                    color: #0000ff;
                    font-weight: 600;
                }

                .markdown-content pre code.language-json .json-punctuation {
                    color: #333;
                }

            /* Other language highlighting hints */
            .markdown-content pre[data-language]::before {
                content: attr(data-language);
                position: absolute;
                top: 8px;
                right: 12px;
                font-size: 0.75em;
                color: #6a737d;
                text-transform: uppercase;
                font-weight: 600;
                letter-spacing: 0.5px;
            }

            .markdown-content pre code.language-javascript .js-keyword,
            .markdown-content pre code.language-js .js-keyword {
                color: #d73a49;
                font-weight: 600;
            }

            .markdown-content pre code.language-javascript .js-string,
            .markdown-content pre code.language-js .js-string {
                color: #032f62;
            }

            .markdown-content pre code.language-python .py-keyword {
                color: #d73a49;
                font-weight: 600;
            }

            .markdown-content pre code.language-python .py-string {
                color: #032f62;
            }

            /* SQL Syntax Highlighting */
            .markdown-content pre code.language-sql .sql-keyword {
                color: #0000ff;
                font-weight: 600;
                text-transform: uppercase;
            }

            .markdown-content pre code.language-sql .sql-string {
                color: #a31515;
            }

            .markdown-content pre code.language-sql .sql-number {
                color: #098658;
            }

            .markdown-content pre code.language-sql .sql-comment {
                color: #008000;
                font-style: italic;
            }

            .markdown-content pre code.language-sql .sql-function {
                color: #795e26;
                font-weight: 500;
            }

            /* C# Syntax Highlighting */
            .markdown-content pre code.language-csharp .cs-keyword,
            .markdown-content pre code.language-cs .cs-keyword {
                color: #0000ff;
                font-weight: 600;
            }

            .markdown-content pre code.language-csharp .cs-string,
            .markdown-content pre code.language-cs .cs-string {
                color: #a31515;
            }

            .markdown-content pre code.language-csharp .cs-number,
            .markdown-content pre code.language-cs .cs-number {
                color: #098658;
            }

            .markdown-content pre code.language-csharp .cs-comment,
            .markdown-content pre code.language-cs .cs-comment {
                color: #008000;
                font-style: italic;
            }

            .markdown-content pre code.language-csharp .cs-type,
            .markdown-content pre code.language-cs .cs-type {
                color: #2b91af;
                font-weight: 500;
            }

            .markdown-content pre code.language-csharp .cs-attribute,
            .markdown-content pre code.language-cs .cs-attribute {
                color: #808080;
            }

            /* HTML Syntax Highlighting */
            .markdown-content pre code.language-html .html-tag {
                color: #800000;
                font-weight: 600;
            }

            .markdown-content pre code.language-html .html-attr-name {
                color: #ff0000;
            }

            .markdown-content pre code.language-html .html-attr-value {
                color: #0000ff;
            }

            .markdown-content pre code.language-html .html-comment {
                color: #008000;
                font-style: italic;
            }

            .markdown-content pre code.language-html .html-doctype {
                color: #808080;
                font-weight: 600;
            }

            .markdown-content pre code.language-html .html-entity {
                color: #2b91af;
            }

            /* JavaScript Syntax Highlighting */
            .markdown-content pre code.language-javascript .js-keyword,
            .markdown-content pre code.language-js .js-keyword {
                color: #0000ff;
                font-weight: 600;
            }

            .markdown-content pre code.language-javascript .js-string,
            .markdown-content pre code.language-js .js-string {
                color: #a31515;
            }

            .markdown-content pre code.language-javascript .js-number,
            .markdown-content pre code.language-js .js-number {
                color: #098658;
            }

            .markdown-content pre code.language-javascript .js-comment,
            .markdown-content pre code.language-js .js-comment {
                color: #008000;
                font-style: italic;
            }

            .markdown-content pre code.language-javascript .js-function,
            .markdown-content pre code.language-js .js-function {
                color: #795e26;
                font-weight: 500;
            }

            .markdown-content pre code.language-javascript .js-variable,
            .markdown-content pre code.language-js .js-variable {
                color: #001080;
            }

            .markdown-content pre code.language-javascript .js-operator,
            .markdown-content pre code.language-js .js-operator {
                color: #000000;
            }

            .markdown-content pre code.language-javascript .js-boolean,
            .markdown-content pre code.language-js .js-boolean {
                color: #0000ff;
                font-weight: 600;
            }

            .markdown-content pre code.language-javascript .js-null,
            .markdown-content pre code.language-js .js-null {
                color: #0000ff;
                font-weight: 600;
            }

            .markdown-content pre code.language-javascript .js-regex,
            .markdown-content pre code.language-js .js-regex {
                color: #811f3f;
            }

            .markdown-content blockquote {
                border-left: 4px solid #667eea;
                padding-left: 16px;
                margin: 16px 0;
                color: #666;
                font-style: italic;
                position: relative;
                background: rgba(102, 126, 234, 0.05);
                padding: 16px 16px 16px 48px;
                border-radius: 8px;
            }
            
                .markdown-content blockquote .quote-icon {
                    position: absolute;
                    left: 12px;
                    top: 12px;
                    font-size: 1.5em;
                    opacity: 0.5;
                }

            .markdown-content ul,
            .markdown-content ol {
                margin-left: 24px;
                margin-bottom: 16px;
            }

            .markdown-content li {
                margin-bottom: 8px;
            }

            /* Task list (checkbox) styling */
            .markdown-content .task-list-item {
                list-style-type: none;
                margin-left: -24px;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .markdown-content .task-list-item input[type="checkbox"] {
                margin: 0;
                cursor: not-allowed;
                width: 16px;
                height: 16px;
                flex-shrink: 0;
            }
            
            .markdown-content .task-list-item input[type="checkbox"]:checked + span {
                text-decoration: line-through;
                opacity: 0.6;
            }

            .markdown-content a {
                color: #667eea;
                text-decoration: none;
                border-bottom: 1px solid transparent;
                transition: border-color 0.2s;
            }

                .markdown-content a:hover {
                    border-bottom-color: #667eea;
                }
                
                .markdown-content a[target="_blank"]::after {
                    content: " ‚Üó";
                    font-size: 0.85em;
                    opacity: 0.6;
                }

            .markdown-content img {
                max-width: 400px;
                height: auto;
                border-radius: 8px;
                margin: 16px 0;
            }

            .markdown-content .table-wrapper {
                overflow-x: auto;
                margin-bottom: 16px;
                border-radius: 8px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            
            .markdown-content table {
                border-collapse: collapse;
                width: 100%;
                margin-bottom: 0;
            }

            .markdown-content table th,
            .markdown-content table td {
                border: 1px solid #ddd;
                padding: 12px;
                text-align: left;
                white-space: nowrap;
            }

            /* Table alignment support */
            .markdown-content table th[align="left"],
            .markdown-content table td[align="left"] {
                text-align: left;
            }

            .markdown-content table th[align="center"],
            .markdown-content table td[align="center"] {
                text-align: center;
            }

            .markdown-content table th[align="right"],
            .markdown-content table td[align="right"] {
                text-align: right;
            }

            .markdown-content table th {
                background: #f6f8fa;
                font-weight: 600;
                position: sticky;
                top: 0;
            }                .markdown-content table tr:nth-child(even) {
                    background: #f9f9f9;
                }

        .mermaid-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .mermaid-diagram {
            flex: 1;
            min-width: 0;
        }

        .mermaid-code {
            flex: 1;
            min-width: 0;
        }

            .mermaid-code pre {
                margin: 0;
                background: #282c34;
                color: #abb2bf;
                padding: 16px;
                border-radius: 4px;
                overflow-x: auto;
                font-family: 'Courier New', monospace;
                font-size: 13px;
                line-height: 1.5;
                max-height: 600px;
                overflow-y: auto;
            }

            .mermaid-code pre code {
                background: none;
                padding: 0;
                color: #abb2bf;
            }

        .mermaid {
            padding: 0px;
            border-radius: 8px;
            margin: 0px auto;
            text-align: center;
            border: 0px solid #e9ecef;
            overflow-x: auto;
            overflow-y: auto;
            opacity: 1 !important;
            visibility: visible !important;
            max-width: 100%;
        }

            .mermaid svg {
                max-width: 100% !important;
                width: auto !important;
                height: auto !important;
                display: block !important;
                margin: 0 auto !important;
                opacity: 1 !important;
                visibility: visible !important;
                max-height: 600px;
            }

            .mermaid * {
                opacity: 1 !important;
                visibility: visible !important;
            }

            .mermaid text {
                font-size: 11px !important;
                font-family: 'Segoe UI', sans-serif !important;
            }

            .mermaid [class*="label"] {
                font-size: 11px !important;
            }

            .mermaid .nodeLabel,
            .mermaid .edgeLabel {
                font-size: 11px !important;
            }

            .mermaid[data-processed="true"] {
                min-height: 0;
            }


        .empty-state {
            text-align: left;
            padding: 0px;
            color: #666;
        }

            .empty-state svg {
                min-width: 120px;
                min-height: 120px;
                margin-bottom: 20px;
                opacity: 0.3;
            }

            .empty-state h3 {
                font-size: 1.5em;
                margin-bottom: 10px;
                color: #333;
            }

        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #667eea;
        }

            .loading::after {
                content: '...';
                animation: dots 1.5s steps(4, end) infinite;
            }

        @keyframes dots {
            0%, 20% {
                content: '.';
            }

            40% {
                content: '..';
            }

            60%, 100% {
                content: '...';
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            animation: fadeIn 0.3s;
            overflow-y: auto;
        }

            .modal.open {
                display: flex;
                justify-content: center;
                align-items: flex-start;
                padding-top: 10px;
            }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5),
                        0 0 0 1px rgba(255, 255, 255, 0.2);
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 5px 15px;
            background: linear-gradient(135deg, rgba(20, 20, 35, 0.95) 0%, rgba(15, 52, 96, 0.95) 100%);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            border-radius: 8px 8px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

            .modal-header h2 {
                margin: 0;
                font-size: 1em;
            }

        .close-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1.2em;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            line-height: 1;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

            .close-btn:hover {
                background: rgba(255, 255, 255, 0.25);
                transform: rotate(90deg);
                box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3),
                            inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

        .modal-body {
            padding: 10px;
            flex: 1;
            overflow-y: auto;
        }

        .markdown-textarea {
            width: 100%;
            min-height: 350px;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 2px;
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            line-height: 1.4;
            resize: vertical;
            transition: border-color 0.2s;
        }

            .markdown-textarea:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }

        .modal-footer {
            padding: 10px 15px;
            background: rgba(248, 249, 250, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 0 0 8px 8px;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, rgba(108, 117, 125, 0.9) 0%, rgba(90, 98, 104, 0.9) 100%);
            border-color: rgba(255, 255, 255, 0.15);
        }

            .btn-secondary:hover {
                background: linear-gradient(135deg, rgba(90, 98, 104, 0.9) 0%, rgba(73, 80, 87, 0.9) 100%);
            }

        .error {
            background: #fee;
            border: 2px solid #fcc;
            padding: 20px;
            border-radius: 8px;
            color: #c33;
            margin: 20px 0;
        }

        .error-modal-header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%) !important;
        }

        #errorMessage {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            color: #c33;
            line-height: 1.6;
        }

        /* Tablet and smaller laptops */
        @media (max-width: 1024px) {
            .sidebar {
                padding: 6px 8px;
                gap: 6px;
            }

            .sidebar-header {
                padding: 4px 8px;
            }

            .sidebar-header h2 {
                font-size: 1em;
            }

            .menu-item {
                padding: 5px 8px;
                font-size: 0.8em;
            }

            .sidebar-footer {
                padding: 4px 8px;
            }

            .contact-info {
                font-size: 0.75em;
            }

            .controls {
                top: 45px;
                padding: 6px 10px;
            }

            .controls b {
                font-size: 0.65em;
            }

            .controls .btn {
                padding: 4px 8px;
                font-size: 0.7em;
            }

            .main-content {
                padding: 95px 0px 0px 0px;
            }
        }

        /* Mobile devices */
        @media (max-width: 768px) {
            .sidebar {
                flex-wrap: nowrap;
                padding: 5px 6px;
                gap: 4px;
            }

            .sidebar-header {
                padding: 3px 5px;
            }

            .sidebar-header h2 {
                font-size: 0.85em;
            }

            .sidebar-header p {
                display: none;
            }

            .menu-section {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: thin;
            }

            .menu-item {
                padding: 4px 8px;
                font-size: 0.7em;
            }

            .sidebar-footer {
                padding: 3px 5px;
            }

            .contact-info {
                font-size: 0.6em;
                gap: 3px;
            }

            .mobile-menu-btn {
                display: none;
            }

            .main-content {
                width: 100%;
                padding: 95px 0px 0px 0px;
            }

            .controls {
                top: 45px;
                padding: 5px 8px;
                flex-wrap: nowrap;
                gap: 6px;
            }

            .controls b {
                font-size: 0.6em;
            }

            .control-group {
                min-width: 120px;
            }

            .url-input {
                font-size: 0.65em;
                padding: 4px 6px;
            }

            .controls .btn {
                padding: 4px 8px;
                font-size: 0.65em;
                white-space: nowrap;
            }

            .content {
                padding: 15px;
            }

            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .modal-content {
                width: 95%;
                max-height: 85vh;
                margin: 10px;
            }
        }

        /* Small mobile devices */
        @media (max-width: 480px) {
            .sidebar {
                padding: 4px 5px;
            }

            .sidebar-header h2 {
                font-size: 0.8em;
            }

            .menu-item {
                padding: 3px 6px;
                font-size: 0.65em;
            }

            .menu-icon {
                font-size: 0.85em;
            }

            .contact-info {
                font-size: 0.55em;
            }

            .contact-icon {
                font-size: 0.9em;
            }

            .main-content {
                padding: 90px 0px 0px 0px;
            }

            .controls {
                top: 40px;
                padding: 4px 6px;
                gap: 4px;
            }

            .controls b {
                font-size: 0.55em;
            }

            .control-group {
                gap: 3px;
                min-width: 100px;
            }

            .url-input {
                font-size: 0.6em;
                padding: 3px 5px;
            }

            .controls .btn {
                padding: 3px 6px;
                font-size: 0.6em;
            }

            .content {
                padding: 10px;
                font-size: 0.95em;
            }

            .modal-content {
                width: 98%;
                border-radius: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header" onclick="javascript:window.location.reload()">
            <h2>üìö Markdown Viewer <span style="font-size: 9px;color: #CCC;font-weight:bold;">(V.2025-12-01)</span></h2>
        </div>
        <div class="menu-section">
            <h3>Contents</h3>
            <div class="menu-item" data-type="predefined" data-id="welcome">
                <span class="menu-icon">üëã</span>
                <span>Welcome</span>
            </div>
            <div class="menu-item" data-type="predefined" data-id="about-markdown">
                <span class="menu-icon">üöÄ</span>
                <span>About Markdown</span>
            </div>
            <div class="menu-item" data-type="predefined" data-id="markdown-guide">
                <span class="menu-icon">üìù</span>
                <span>Markdown Guide</span>
            </div>
            <div class="menu-item" data-type="predefined" data-id="mermaid-guide">
                <span class="menu-icon">üìä</span>
                <span>Mermaid Guide</span>
            </div> 
        </div>              
    </div>

    <div class="main-content">
        <div class="controls">
                <b style="font-size: large;color:yellow">üëâ</b>
                <button class="btn" onclick="openMarkdownModal()">‚úèÔ∏è Custom</button>
                <b>|</b>
                <div class="file-input-wrapper">
                    <button class="btn">üì§ Upload Markdown File</button>
                    <input type="file" id="fileInput" accept=".md,.markdown,.txt, .html">
                </div>
                <b>|</b>
                <div class="control-group">
                    <input type="text" id="urlInput" class="url-input" placeholder="Enter Markdown URL...">
                    <button class="btn" onclick="loadFromUrl()">üåê Fetch</button>
                </div>
                <div class="sidebar-footer">
                    <div class="contact-info">                
                        <span class="contact-icon">üìß</span>
                        <span class="contact-text">Murthy Vepa</span>
                    </div>
                </div>              
            </div> 
        <div class="container">
            <!-- Markdown Input Modal -->
            <div id="markdownModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚úèÔ∏è Enter Raw Markdown</h2>
                        <button class="close-btn" onclick="closeMarkdownModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <textarea id="markdownInput" class="markdown-textarea" placeholder="Enter your markdown content here...
                                  Example:
                                  # My Document
                                  ## Section 1
                                  This is some text with **bold** and *italic*.
                                  ```mermaid
                                  graph TD
                                  A[Start] --> B[End]
```"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" onclick="closeMarkdownModal()">Cancel</button>
                        <button class="btn" onclick="submitMarkdown()">Render Markdown</button>
                    </div>
                </div>
            </div>

            <!-- Error Modal -->
            <div id="errorModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header error-modal-header">
                        <h2>‚ùå Error</h2>
                        <button class="close-btn" onclick="closeErrorModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div id="errorMessage"></div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn" onclick="closeErrorModal()">Close</button>
                    </div>
                </div>
            </div>

            <div class="content">
                <div id="output" class="empty-state">
                    <h3>No document selected</h3>
                    <p>Choose a predefined document from the sidebar, upload a file, or load from URL</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: false,            
            theme: 'default',
            securityLevel: 'loose',
            fontSize: 12,
            fontFamily: '"Segoe UI", sans-serif',
            htmlLabels: true,
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#000',
                primaryBorderColor: '#764ba2',
                lineColor: '#333',
                secondaryColor: '#764ba2',
                tertiaryColor: '#f5f5f5',
                fontSize: '14px'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 15,
                nodeSpacing: 50,
                rankSpacing: 50,
                htmlLabels: true,
            },
            sequence: {
                useMaxWidth: true,
                diagramMarginX: 50,
                diagramMarginY: 10,
                boxMargin: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35,
                htmlLabels: true
            },
            gantt: {
                useMaxWidth: true,
                fontSize: 14,
                barHeight: 20,
                barGap: 4,
                topPadding: 50,
                leftPadding: 75,
                htmlLabels: true
            },
            class: {
                useMaxWidth: true,
                htmlLabels: true,
            },
            state: {
                useMaxWidth: true,
                htmlLabels: true
            },
            er: {
                useMaxWidth: true,
                fontSize: 14,
                htmlLabels: true
            },
            journey: {
                useMaxWidth: true,
                htmlLabels: true
            },
            pie: {
                useMaxWidth: true,
                htmlLabels: true
            },
            gitGraph: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });

        // Configure marked with enhanced options
        marked.setOptions({
            gfm: true,              // Enable GitHub Flavored Markdown
            breaks: true,           // Convert \n to <br>
            pedantic: false,        // Don't be overly strict
            smartLists: true,       // Use smarter list behavior
            smartypants: false      // Don't use smart typography
        });

        // Configure marked with enhanced options\n        marked.setOptions({\n            gfm: true,              // Enable GitHub Flavored Markdown\n            breaks: true,           // Convert \\n to <br>\n            pedantic: false,        // Don't be overly strict\n            smartLists: true,       // Use smarter list behavior\n            smartypants: false      // Don't use smart typography\n        });\n\n        // Configure marked to handle mermaid blocks and enhance rendering
        marked.use({
            renderer: {
                code(code, language) {
                    if (language === 'mermaid') {
                        return `<div class="mermaid">${code}</div>`;
                    }
                    return `<pre><code class="language-${language}">${code}</code></pre>`;
                },
                heading(text, level) {
                    // Create a slug from the heading text for the ID
                    const escapedText = text.toLowerCase()
                        .replace(/<[^>]+>/g, '') // Remove HTML tags
                        .replace(/[^\w\s-]/g, '') // Remove special characters
                        .replace(/\s+/g, '-') // Replace spaces with hyphens
                        .replace(/--+/g, '-') // Replace multiple hyphens with single
                        .trim();
                    
                    return `<h${level} id="${escapedText}">${text}</h${level}>`;
                },
                link(href, title, text) {
                    // Check if link is external
                    const isExternal = href.startsWith('http://') || href.startsWith('https://');
                    const titleAttr = title ? ` title="${title}"` : '';
                    const externalAttrs = isExternal ? ' target="_blank" rel="noopener noreferrer"' : '';
                    return `<a href="${href}"${titleAttr}${externalAttrs}>${text}</a>`;
                },
                image(href, title, text) {
                    const titleAttr = title ? ` title="${title}"` : '';
                    const altAttr = text ? ` alt="${text}"` : ' alt=""';
                    return `<img src="${href}"${altAttr}${titleAttr} loading="lazy" onerror="this.style.display='none'">`;
                },
                table(header, body) {
                    return `<div class="table-wrapper"><table><thead>${header}</thead><tbody>${body}</tbody></table></div>`;
                },
                blockquote(quote) {
                    return `<blockquote><span class="quote-icon">üí¨</span>${quote}</blockquote>`;
                },
                codespan(code) {
                    return `<code>${code}</code>`;
                },
                list(body, ordered, start) {
                    const type = ordered ? 'ol' : 'ul';
                    const startAttr = (ordered && start !== 1) ? ` start="${start}"` : '';
                    return `<${type}${startAttr}>${body}</${type}>`;
                },
                listitem(text, task, checked) {
                    if (task) {
                        const checkedAttr = checked ? ' checked' : '';
                        // Remove any checkbox that might already be in the text
                        const cleanText = text.replace(/<input[^>]*type=["']checkbox["'][^>]*>/gi, '').trim();
                        return `<li class="task-list-item"><input type="checkbox"${checkedAttr} disabled> <span>${cleanText}</span></li>`;
                    }
                    return `<li>${text}</li>`;
                }
            }
        });

        // Predefined markdown content
        const predefinedContent = {
            'welcome': `# üëã Welcome to Markdown Viewer! 

This is a powerful and feature-rich markdown viewer designed for modern web browsers with comprehensive support for:

- **Standard and Extended Markdown Syntax** 
- **Interactive Mermaid Diagrams** 
- **Multiple Input Methods** 
- **Real-time Rendering** 
- **Error Handling** 

## Features

- üìù **Full Markdown Support** - All standard markdown syntax
- üìä **Mermaid Diagrams** - Flowcharts, sequence diagrams, and more
- ‚úèÔ∏è **Custom Input** - Create your own markdown content
- üìÇ **File Upload** - Upload local markdown files
- üåê **Remote Loading** - Load markdown from any public URL
- üé® **Beautiful UI** - Modern, responsive design

## Quick Start

1. Choose from predefined documents in the left sidebar to learn about Markdown and Mermaid diagrams
2. Or click the "Custom" button to enter your own markdown
3. Or upload your own markdown file using the "Upload Markdown File" button
4. Or load a Markdown file from a public URL

---

**‚ú® Enjoy your markdown viewing experience! ‚ú®** `,

            'about-markdown': `# üöÄ About Markdown![](#about-markdown)

Markdown is a lightweight markup language that you can use to add formatting elements to plaintext text documents. Created by [John Gruber](https://daringfireball.net/projects/markdown/) in 2004, Markdown is now one of the world‚Äôs most popular markup languages.

You can add Markdown formatting elements to a plaintext file using a text editor application. Or you can use one of the many Markdown applications for macOS, Windows, Linux, iOS, and Android operating systems. There are also several web-based applications specifically designed for writing in Markdown.

Depending on the application you use, you may not be able to preview the formatted document in real time. But that‚Äôs okay. [According to Gruber](https://daringfireball.net/projects/markdown/), 
**Markdown syntax is designed to be readable and unobtrusive, so the text in Markdown files can be read even if it isn‚Äôt rendered.**

> The overriding design goal for Markdown‚Äôs formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like it‚Äôs been marked up with tags or formatting instructions.

Why Use Markdown?[](#why-use-markdown)
--------------------------------------

You might be wondering why people use Markdown instead of a WYSIWYG editor. Why write with Markdown when you can press buttons in an interface to format your text? As it turns out, there are several reasons why people use Markdown instead of WYSIWYG editors.

*   Markdown can be used for everything. People use it to create [websites](#websites), [documents](#documents), [notes](#notes), [books](#books), [presentations](#presentations), [email messages](#email), and [technical documentation](#documentation).
    
*   Markdown is portable. Files containing Markdown-formatted text can be opened using virtually any application. If you decide you don‚Äôt like the Markdown application you‚Äôre currently using, you can import your Markdown files into another Markdown application. That‚Äôs in stark contrast to word processing applications like Microsoft Word that lock your content into a proprietary file format.
    
*   Markdown is platform independent. You can create Markdown-formatted text on any device running any operating system.
    
*   Markdown is future proof. Even if the application you‚Äôre using stops working at some point in the future, you‚Äôll still be able to read your Markdown-formatted text using a text editing application. This is an important consideration when it comes to books, university theses, and other milestone documents that need to be preserved indefinitely.
    
*   Markdown is everywhere. Websites like [Reddit](/tools/reddit/) and GitHub support Markdown, and lots of desktop and web-based applications support it.
    

Kicking the Tires[](#kicking-the-tires)
---------------------------------------

The best way to get started with Markdown is to use it. That‚Äôs easier than ever before thanks to a variety of free tools.

You don‚Äôt even need to download anything. There are several online/offline Markdown editors that you can use to try writing in Markdown.

How Does it Work?[](#how-does-it-work)
--------------------------------------

Markdown applications use something called a _Markdown processor_ (also commonly referred to as a ‚Äúparser‚Äù or an ‚Äúimplementation‚Äù) to take the Markdown-formatted text and output it to HTML format. At that point, your document can be viewed in a web browser or combined with a style sheet and printed. You can see a visual representation of this process below.

**Note:** The Markdown application and processor are two separate components. For the sake of brevity, I've combined them into one element ("Markdown app") in the figure below.

 ![The Markdown Process](https://www.markdownguide.org/assets/images/generated/assets/images/markdown-flowchart-1080.png)

To summarize, this is a four-part process:

1.  Create a Markdown file using a text editor or a dedicated Markdown application. The file should have an \`.md\` or \`.markdown\` extension.
2.  Open the Markdown file in a Markdown application.
3.  Use the Markdown application to convert the Markdown file to an HTML document.
4.  View the HTML file in a web browser or use the Markdown application to convert it to another file format, like PDF.

From your perspective, the process will vary somewhat depending on the application you use. For example, Dillinger essentially combines steps 1-3 into a single, seamless interface ‚Äî all you have to do is type in the left pane and the rendered output magically appears in the right pane. But if you use other tools, like a text editor with a static website generator, you‚Äôll find that the process is much more visible.

What‚Äôs Markdown Good For?[](#whats-markdown-good-for)
-----------------------------------------------------

Markdown is a fast and easy way to take notes, create content for a website, and produce print-ready documents.

It doesn‚Äôt take long to learn the Markdown syntax, and once you know how to use it, you can write using Markdown just about everywhere. Most people use Markdown to create content for the web, but Markdown is good for formatting everything from email messages to grocery lists.

Here are some examples of what you can do with Markdown.

### Websites[](#websites)

Markdown was designed for the web, so it should come as no surprise that there are plenty of applications specifically designed for creating website content.

### Documents[](#documents)

Markdown doesn‚Äôt have all the bells and whistles of word processors like Microsoft Word, but it‚Äôs good enough for creating basic documents like assignments and letters. You can use a Markdown document authoring application to create and export Markdown-formatted documents to PDF or HTML file format. The PDF part is key, because once you have a PDF document, you can do anything with it ‚Äî print it, email it, or upload it to a website.

### Notes[](#notes)

In nearly every way, Markdown is the ideal syntax for taking notes. Sadly, [Evernote](https://evernote.com/) and [OneNote](https://www.onenote.com/), two of the most popular note applications, don‚Äôt currently support Markdown. The good news is that several other note applications _do_ support Markdown:

*   [Obsidian](/tools/obsidian/) is a popular Markdown note-taking application loaded with features.
*   [Simplenote](/tools/simplenote/) is a free, barebones note-taking application available for every platform.
*   [Notable](/tools/notable/) is a note-taking application that runs on a variety of platforms.
*   [Bear](/tools/bear/) is an Evernote-like application available for Mac and iOS devices. It doesn‚Äôt exclusively use Markdown by default, but you can enable Markdown compatibility mode.
*   [Joplin](/tools/joplin/) is a note taking application that respects your privacy. It‚Äôs available for every platform.

### Books[](#books)

Looking to self-publish a novel? Try [Leanpub](https://leanpub.com/), a service that takes your Markdown-formatted files and turns them into an electronic book. Leanpub outputs your book in PDF, EPUB, and MOBI file format. If you‚Äôd like to create paperback copies of your book, you can upload the PDF file to another service such as [Kindle Direct Publishing](https://kdp.amazon.com).

### Presentations[](#presentations)

Believe it or not, you can generate presentations from Markdown-formatted files. Creating presentations in Markdown takes a little getting used to, but once you get the hang of it, it‚Äôs a lot faster and easier than using an application like PowerPoint or Keynote. [Remark](https://remarkjs.com) ([GitHub project](https://github.com/gnab/remark)) is a popular browser-based Markdown slideshow tool, as are [Cleaver](https://jdan.github.io/cleaver/) ([GitHub project](https://github.com/jdan/cleaver)) and [Marp](https://marp.app/) ([GitHub project](https://github.com/marp-team/marp)). If you use a Mac and would prefer to use an application, check out [Deckset](https://www.decksetapp.com/) or [Hyperdeck](https://hyperdeck.io/).

### Email[](#email)

If you send a lot of email and you‚Äôre tired of the formatting controls available on most email provider websites, you‚Äôll be happy to learn there‚Äôs an easy way to write email messages using Markdown. [Markdown Here](/tools/markdown-here/) is a free and open-source browser extension that converts Markdown-formatted text into HTML that‚Äôs ready to send.

### Collaboration[](#collaboration)

Collaboration and team messaging applications are a popular way of communicating with coworkers and friends at work and home. These applications don‚Äôt utilize all of Markdown‚Äôs features, but the features they do provide are fairly useful. For example, the ability to bold and italicize text without using the WYSIWYG interface is pretty handy. [Slack](/tools/slack/), [Discord](/tools/discord/), [Wiki.js](/tools/wiki-js/), and [Mattermost](/tools/mattermost/) are all good collaboration applications.

### Documentation[](#documentation)

Markdown is a natural fit for technical documentation. Companies like GitHub are increasingly switching to Markdown for their documentation ‚Äî check out their [blog post](https://github.com/blog/1939-how-github-uses-github-to-document-github) about how they migrated their Markdown-formatted documentation to [Jekyll](/tools/jekyll/). If you write documentation for a product or service, take a look at these handy tools:

*   [Read the Docs](https://readthedocs.org) can generate a documentation website from your open source Markdown files. Just connect your GitHub repository to their service and push ‚Äî Read the Docs does the rest. They also have a [service for commercial entities](https://readthedocs.com/).
*   [MkDocs](/tools/mkdocs/) is a fast and simple static site generator that‚Äôs geared towards building project documentation. Documentation source files are written in Markdown and configured with a single YAML configuration file. MkDocs has several [built in themes](https://www.mkdocs.org/user-guide/styling-your-docs/), including a port of the [Read the Docs](https://readthedocs.org/) documentation theme for use with MkDocs. One of the newest themes is [MkDocs Material](https://squidfunk.github.io/mkdocs-material/).
*   [Docusaurus](/tools/docusaurus/) is a static site generator designed exclusively for creating documentation websites. It supports translations, search, and versioning.
*   [VuePress](https://vuepress.vuejs.org/) is a static site generator powered by [Vue](https://vuejs.org/) and optimized for writing technical documentation.
*   [Jekyll](/tools/jekyll/) was mentioned earlier in the section on websites, but it‚Äôs also a good option for generating a documentation website from Markdown files. If you go this route, be sure to check out the [Jekyll documentation theme](https://idratherbewriting.com/documentation-theme-jekyll/).

Additional Resources[](#additional-resources)
---------------------------------------------

There are lots of resources you can use to learn Markdown. Here are some other introductory resources:

*   [John Gruber‚Äôs Markdown documentation](https://daringfireball.net/projects/markdown/). The original guide written by the creator of Markdown.
*   [Markdown Tutorial](https://www.markdowntutorial.com/). An open source website that allows you to try Markdown in your web browser.
*   [Awesome Markdown](https://github.com/mundimark/awesome-markdown). A list of Markdown tools and learning resources.
*   [Typesetting Markdown](https://dave.autonoma.ca/blog/2019/05/22/typesetting-markdown-part-1). A multi-part series that describes an ecosystem for typesetting Markdown documents using [pandoc](https://pandoc.org/) and [ConTeXt](https://www.contextgarden.net/).
`,

            'markdown-guide': `# üìù Complete Markdown Guide

## Table of Contents
1. [Headings](#headings)
2. [Emphasis](#emphasis)
3. [Lists](#lists)
4. [Links](#links)
5. [Images](#images)
6. [Code](#code)
7. [Blockquotes](#blockquotes)
8. [Tables](#tables)
9. [Task Lists](#task-lists)
10. [Extended Syntax](#extended-syntax)

---

## Headings

To create a heading, add number signs (\`#\`) in front of a word or phrase. The number corresponds to the heading level.

### Examples:

\`\`\`markdown
# H1 Heading
## H2 Heading
### H3 Heading
#### H4 Heading
##### H5 Heading
###### H6 Heading
\`\`\`

**Rendered:**

# H1 Heading
## H2 Heading
### H3 Heading
#### H4 Heading
##### H5 Heading
###### H6 Heading

### Alternate Syntax

For H1 and H2, you can use underlines:

\`\`\`markdown
Heading Level 1
===============

Heading Level 2
---------------
\`\`\`

### ‚úÖ Best Practices

- Always put a space between \`#\` and the heading text
- Put blank lines before and after headings
- Don't use \`#Here's a Heading\` (missing space)

---

## Emphasis

Add emphasis by making text bold, italic, or both.

### Italic

\`\`\`markdown
*Italic text* or _italic text_
A*cat*meow
\`\`\`

**Rendered:** *Italic text* or _italic text_

### Bold

\`\`\`markdown
**Bold text** or __bold text__
Love**is**bold
\`\`\`

**Rendered:** **Bold text** or __bold text__

### Bold and Italic

\`\`\`markdown
***Bold and italic*** or ___bold and italic___
This is really***very***important text
\`\`\`

**Rendered:** ***Bold and italic***

### Strikethrough

\`\`\`markdown
~~Strikethrough text~~
~~The world is flat.~~ We now know that the world is round.
\`\`\`

**Rendered:** ~~Strikethrough~~

### ‚úÖ Best Practices

- Use asterisks (\`*\`) instead of underscores for emphasis within words
- Example: \`Love**is**bold\` ‚úÖ instead of \`Love__is__bold\` ‚ùå

---

## Lists

### Unordered Lists

Use dashes (\`-\`), asterisks (\`*\`), or plus signs (\`+\`):

\`\`\`markdown
- First item
- Second item
  - Nested item 2.1
  - Nested item 2.2
- Third item
\`\`\`

**Rendered:**

- First item
- Second item
  - Nested item 2.1
  - Nested item 2.2
- Third item

### Ordered Lists

\`\`\`markdown
1. First item
2. Second item
3. Third item
   1. Nested item
   2. Another nested item
4. Fourth item
\`\`\`

**Rendered:**

1. First item
2. Second item
3. Third item
   1. Nested item
   2. Another nested item
4. Fourth item

### ‚úÖ Best Practices

- Use periods (\`.\`) only for ordered lists, not parentheses
- Keep list items aligned properly for readability

---

## Links

### Basic Link

\`\`\`markdown
[Link text](https://example.com)
[Link with title](https://example.com "Hover title")
\`\`\`

**Rendered:** [Link text](https://example.com)

### URLs and Email Addresses

\`\`\`markdown
&lt;https://www.example.com&gt;
&lt;email@example.com&gt;
\`\`\`

**Rendered:** 

<https://www.example.com>

<email@example.com>

### Reference Links

\`\`\`markdown
[Link text][reference]

[reference]: https://example.com "Optional title"
\`\`\`

**Rendered:** 

[Link text](https://example.com)

[reference]: https://example.com "Optional title"

### Heading Links

\`\`\`markdown
[Jump to Headings](#headings)
\`\`\`

**Rendered:** 

[Jump to Headings](#headings)

---

## Images

### Basic Image

\`\`\`markdown
![Tux, the Linux mascot](https://www.markdownguide.org/assets/images/tux.png)
\`\`\`

**Rendered:**

![Tux, the Linux mascot](https://www.markdownguide.org/assets/images/tux.png)

### Linked Image

\`\`\`markdown
![Tux, the Linux mascot](https://www.markdownguide.org/assets/images/tux.png)(https://linux.com)
\`\`\`

![Tux, the Linux mascot](https://www.markdownguide.org/assets/images/tux.png)(https://www.linux.com)

---

## Code

### Inline Code

Use single backticks:

\`\`\`markdown
Inline \`code\` with backticks
Use \`console.log()\` to print
\`\`\`

**Rendered:** Inline \`code\` with backticks

### Code Blocks

Use triple backticks with optional language specification:

<pre><code>&#96;&#96;&#96;javascript
function greet(name) {
  console.log(&#96;Hello, ${name}!&#96;);
}
&#96;&#96;&#96;</code></pre>

**Rendered:**

\`\`\`javascript
function greet(name) {
  console.log(\`Hello, \${name}!\`);
}
\`\`\`

### JSON Example

\`\`\`json
{
  "name": "John Doe",
  "age": 30,
  "email": "john@example.com",
  "active": true,
  "hobbies": ["reading", "coding"]
}
\`\`\`

### SQL Example

\`\`\`sql
SELECT id, name, email
FROM users
WHERE active = true
ORDER BY created_at DESC;
\`\`\`

---

## Blockquotes

### Basic Blockquote

\`\`\`markdown
> This is a blockquote
> It can span multiple lines
\`\`\`

**Rendered:**

> This is a blockquote
> It can span multiple lines

### Multiple Paragraphs

\`\`\`markdown
> First paragraph in blockquote.
>
> Second paragraph in blockquote.
\`\`\`

**Rendered:**

> First paragraph in blockquote.
>
> Second paragraph in blockquote.

### Nested Blockquotes

\`\`\`markdown
> Outer blockquote
>> Nested blockquote
>>> Even deeper
\`\`\`

**Rendered:**

> Outer blockquote
>> Nested blockquote

### Blockquotes with Other Elements

\`\`\`markdown
> #### The quarterly results look great!
>
> - Revenue was off the chart
> - Profits were higher than ever
>
> *Everything* is going according to **plan**.
\`\`\`

**Rendered:**

> #### The quarterly results look great!
>
> - Revenue was off the chart
> - Profits were higher than ever
>
> *Everything* is going according to **plan**.

---

## Tables

### Basic Table

\`\`\`markdown
| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Cell 1   | Cell 2   | Cell 3   |
| Cell 4   | Cell 5   | Cell 6   |
\`\`\`

**Rendered:**

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| Cell 1   | Cell 2   | Cell 3   |
| Cell 4   | Cell 5   | Cell 6   |

### Alignment

\`\`\`markdown
| Left    | Center  | Right   |
|:--------|:-------:|--------:|
| Text    | Text    | Text    |
| Aligned | Aligned | Aligned |
\`\`\`

**Rendered:**

| Left    | Center  | Right   |
|:--------|:-------:|--------:|
| Text    | Text    | Text    |
| Aligned | Aligned | Aligned |

### Formatting in Tables

You can use **bold**, *italic*, \`code\`, and [links](https://example.com) within table cells.

---

## Task Lists

Create interactive checklists:

\`\`\`markdown
- [x] Completed task
- [x] Another completed task
- [ ] Incomplete task
- [ ] Another incomplete task
\`\`\`

**Rendered:**

- [x] Completed task
- [x] Another completed task
- [ ] Incomplete task
- [ ] Another incomplete task

---

## Extended Syntax

These features are supported by GitHub Flavored Markdown (GFM) and many other processors.

### Footnotes

\`\`\`markdown
Here's a sentence with a footnote.[^1]

[^1]: This is the footnote content.
\`\`\`

**Rendered:**

Here's a sentence with a footnote.[^1]

[^1]: This is the footnote content.

### Definition Lists

\`\`\`markdown
First Term
: This is the definition of the first term.

Second Term
: This is one definition of the second term.
: This is another definition of the second term.
\`\`\`

**Rendered:**

First Term
: This is the definition of the first term.

Second Term
: This is one definition of the second term.
: This is another definition of the second term.

### Heading IDs

Create custom IDs for direct linking:

\`\`\`markdown
### My Heading {#custom-id}

[Link to that heading](#custom-id)
\`\`\`

**Rendered:**

### My Heading {#custom-id}

[Link to that heading](#custom-id)

### Emoji

Two ways to add emoji:

1. **Copy and paste:** üéâ ‚ú® üöÄ üí°
2. **Shortcodes:** \`:rocket:\` renders as üöÄ

### Highlight

\`\`\`markdown
I need to highlight ==these words==
\`\`\`

**Rendered:**

I need to highlight ==these words==

Or use HTML: \`<mark>highlighted text</mark>\`

### Subscript and Superscript

\`\`\`markdown
H~2~O (subscript)
X^2^ (superscript)
\`\`\`

Or use HTML:
- \`H<sub>2</sub>O\` ‚Üí H<sub>2</sub>O
- \`X<sup>2</sup>\` ‚Üí X<sup>2</sup>

### Automatic URL Linking

Many processors automatically convert URLs:

\`\`\`markdown
http://www.example.com
\`\`\`

To prevent: \`\`http://www.example.com\`\`

---

## Horizontal Rules

Create dividers with three or more:

\`\`\`markdown
---
***
___
\`\`\`

**Rendered:**

---
<br>
***
<br>
___



## Line Breaks

End a line with two spaces and press return, or use \`<br>\`:

\`\`\`markdown
First line with two spaces  
Second line

Or use HTML:<br>
Second line
\`\`\`

**Rendered:**

First line with two spaces  
Second line

Or use HTML:<br>
Second line

---

## Escaping Characters

Use backslash to escape special characters:

\`\`\`markdown
\\* Not a bullet
\\# Not a heading
\\[Not a link\\]
\`\`\`

**Rendered:**

\\* Not a bullet
\\# Not a heading
\\[Not a link\\]

---

## üìö Additional Resources

- Use this viewer to practice and experiment
- Check GFM (GitHub Flavored Markdown) for platform-specific features
- Test syntax in your target application

---

**Happy Markdown Writing!** üéâ‚ú®`,

            'mermaid-guide': `# üìä Mermaid Guide 

## About Mermaid

Mermaid lets you create diagrams and visualizations using text and code.

Mermaid is a JavaScript based diagramming and charting tool that uses Markdown-inspired text definitions and a renderer to create and modify complex diagrams. The main purpose of Mermaid is to help documentation catch up with development.

Diagramming and documentation costs precious developer time and gets outdated quickly. But not having diagrams or docs ruins productivity and hurts organizational learning. Mermaid addresses this problem by enabling users to create easily modifiable diagrams, it can also be made part of production scripts (and other pieces of code).

---

## How to Include Mermaid Charts

### In Markdown

To include Mermaid diagrams in your Markdown documents, use fenced code blocks with the \`mermaid\` language identifier:

\`\`\`markdown
\`\`\`mermaid
graph TD
    A[Start] --> B[Process]
    B --> C[End]
\`\`\`

Most modern Markdown processors (GitHub, GitLab, Obsidian, VS Code extensions) support Mermaid natively and will automatically render these diagrams.

### In HTML/JavaScript

To use Mermaid in HTML pages, include the Mermaid library and initialize it:

**Method 1: Using CDN (Simple)**

\`\`\`html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Mermaid Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My Diagram&lt;/h1&gt;
    
    &lt;!-- Mermaid diagram --&gt;
    &lt;div class="mermaid"&gt;
        graph TD
            A[Start] --&gt; B[Process]
            B --&gt; C[End]
    &lt;/div&gt;

    &lt;!-- Include Mermaid library --&gt;
    &lt;script type="module"&gt;
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
\`\`\`

**Method 2: Manual Rendering**

\`\`\`html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Mermaid Example&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My Diagram&lt;/h1&gt;
    
    &lt;!-- Container for rendered diagram --&gt;
    &lt;div id="diagram"&gt;&lt;/div&gt;

    &lt;script&gt;
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: false,
            theme: 'default'
        });

        // Define diagram
        const graphDefinition = \\\`
            graph TD
                A[Start] --&gt; B[Process]
                B --&gt; C[End]
        \\\`;

        // Render diagram
        mermaid.render('myDiagram', graphDefinition).then(({svg}) =&gt; {
            document.getElementById('diagram').innerHTML = svg;
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
\`\`\`

**Method 3: Using Pre Elements**

\`\`\`html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        mermaid.initialize({ startOnLoad: true });
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;pre class="mermaid"&gt;
        graph TD
            A[Start] --&gt; B[Process]
            B --&gt; C[End]
    &lt;/pre&gt;
&lt;/body&gt;
&lt;/html&gt;
\`\`\`

**Configuration Options**

\`\`\`javascript
mermaid.initialize({
    startOnLoad: true,
    theme: 'default', // 'default', 'dark', 'forest', 'neutral'
    securityLevel: 'loose',
    logLevel: 'error',
    flowchart: {
        useMaxWidth: true,
        htmlLabels: true,
        curve: 'basis'
    }
});
\`\`\`


## Diagram Types

### Flowchart

\`\`\`mermaid
flowchart TD
        A[Start] --> B{Is it?};
        B -- Yes --> C[OK];
        C --> D[Rethink];
        D --> B;
        B -- No --> E[End];
\`\`\`

### Graph

\`\`\`mermaid
graph TD
        Start[User Login] --> Auth{Authenticated?}
        Auth -->|Yes| Dashboard[Show Dashboard]
        Auth -->|No| Login[Show Login Page]
        Login --> Credentials[Enter Credentials]
        Credentials --> Verify{Valid?}
        Verify -->|Yes| Dashboard
        Verify -->|No| Error[Show Error]
        Error --> Login
        Dashboard --> Actions[User Actions]
\`\`\`

### Sequence Diagram

\`\`\`mermaid
sequenceDiagram
        participant Alice
        participant Bob
        Alice->>John: Hello John, how are you?
        loop Healthcheck
            John->>John: Fight against hypochondria
        end
        Note right of John: Rational thoughts!
        John-->>Alice: Great!
        John->>Bob: How about you?
        Bob-->>John: Jolly good!
\`\`\`

### Class Diagram

\`\`\`mermaid
classDiagram
        Animal <|-- Duck
        Animal <|-- Fish
        Animal <|-- Zebra
        Animal : +int age
        Animal : +String gender
        Animal: +isMammal()
        Animal: +mate()
        class Duck{
            +String beakColor
            +swim()
            +quack()
        }
        class Fish{
            -int sizeInFeet
            -canEat()
        }
        class Zebra{
            +bool is_wild
            +run()
        }
\`\`\`

### State Diagram

\`\`\`mermaid
stateDiagram-v2
        [*] --> Still
        Still --> [*]
        Still --> Moving
        Moving --> Still
        Moving --> Crash
        Crash --> [*]
\`\`\`

### Pie Chart

\`\`\`mermaid
pie title Pets adopted by volunteers
        "Dogs" : 386
        "Cats" : 85
        "Rats" : 15
\`\`\`

### Git Graph

\`\`\`mermaid
gitGraph
        commit
        commit
        branch develop
        checkout develop
        commit
        commit
        checkout main
        merge develop
        commit
        commit
\`\`\`

### ER Diagram

\`\`\`mermaid
erDiagram
    CUSTOMER ||--o{ ORDER : places
    ORDER ||--|{ LINE-ITEM : contains
    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses
\`\`\`


### Architecture Diagram

\`\`\`mermaid
    %%{init: {'theme':'base', 
    'themeVariables': { 'primaryColor': '#ffcccc', 
                        'edgeLabelBackground':'#ffffcc', 
                        'tertiaryColor': '#ffe6e6', 
                        'noteBkgColor': '#ffffcc', 
                        'nodeBorder':'#333333'}}}%%
    architecture-beta
        group api(cloud)[API]

        service db(database)[Database] in api
        service disk1(disk)[Storage] in api
        service disk2(disk)[Storage] in api
        service server(server)[Server] in api

        db:L -- R:server
        disk1:T -- B:server
        disk2:T -- B:db
\`\`\`

These are just a few examples. Mermaid supports many more diagram types!`,
        };

        const fileInput = document.getElementById('fileInput');
        const urlInput = document.getElementById('urlInput');
        const output = document.getElementById('output');

        // JSON syntax highlighter
        function highlightJSON(json) {
            try {
                // Remove single-line comments (// ...) and multi-line comments (/* ... */)
                const jsonWithoutComments = json
                    .replace(/\/\/.*$/gm, '') // Remove single-line comments
                    .replace(/\/\*[\s\S]*?\*\//g, ''); // Remove multi-line comments
                
                // Try to parse and pretty-print the JSON
                const parsed = JSON.parse(jsonWithoutComments);
                const formatted = JSON.stringify(parsed, null, 2);
                
                // Apply syntax highlighting
                return formatted
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function(match) {
                        let cls = 'json-number';
                        if (/^"/.test(match)) {
                            if (/:$/.test(match)) {
                                cls = 'json-key';
                            } else {
                                cls = 'json-string';
                            }
                        } else if (/true|false/.test(match)) {
                            cls = 'json-boolean';
                        } else if (/null/.test(match)) {
                            cls = 'json-null';
                        }
                        return `<span class="${cls}">${match}</span>`;
                    });
            } catch (e) {
                // If JSON is invalid or has comments, apply highlighting directly to original content
                return json
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/(\/\/.*$)/gm, '<span class="json-comment">$1</span>') // Single-line comments
                    .replace(/(\/\*[\s\S]*?\*\/)/g, '<span class="json-comment">$1</span>') // Multi-line comments
                    .replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function(match) {
                        let cls = 'json-number';
                        if (/^"/.test(match)) {
                            if (/:$/.test(match)) {
                                cls = 'json-key';
                            } else {
                                cls = 'json-string';
                            }
                        } else if (/true|false/.test(match)) {
                            cls = 'json-boolean';
                        } else if (/null/.test(match)) {
                            cls = 'json-null';
                        }
                        return `<span class="${cls}">${match}</span>`;
                    });
            }
        }

        // SQL syntax highlighter
        function highlightSQL(sql) {
            const keywords = /\b(SELECT|FROM|WHERE|INSERT|UPDATE|DELETE|CREATE|DROP|ALTER|TABLE|INDEX|VIEW|JOIN|INNER|LEFT|RIGHT|OUTER|ON|AND|OR|NOT|NULL|IS|AS|ORDER|BY|GROUP|HAVING|LIMIT|OFFSET|UNION|ALL|DISTINCT|COUNT|SUM|AVG|MIN|MAX|CASE|WHEN|THEN|ELSE|END|IN|EXISTS|BETWEEN|LIKE|INTO|VALUES|SET)\b/gi;
            const functions = /\b(COUNT|SUM|AVG|MIN|MAX|CAST|CONVERT|SUBSTRING|TRIM|UPPER|LOWER|COALESCE|ISNULL|GETDATE|DATEADD|DATEDIFF|LEN|REPLACE|CONCAT|ROW_NUMBER|RANK|DENSE_RANK)\b/gi;
            const strings = /('([^'\\]|\\.)*')/g;
            const numbers = /\b(\d+\.?\d*)\b/g;
            const comments = /(--.*$|\/\*[\s\S]*?\*\/)/gm;

            return sql
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(comments, '<span class="sql-comment">$1</span>')
                .replace(strings, '<span class="sql-string">$1</span>')
                .replace(functions, '<span class="sql-function">$1</span>')
                .replace(keywords, '<span class="sql-keyword">$1</span>')
                .replace(numbers, '<span class="sql-number">$1</span>');
        }

        // C# syntax highlighter
        function highlightCSharp(code) {
            const keywords = /\b(abstract|as|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|async|await|var|dynamic|yield)\b/g;
            const types = /\b(string|int|bool|double|float|decimal|char|byte|long|short|object|void|var|dynamic|List|Dictionary|IEnumerable|Task|Action|Func)\b/g;
            const attributes = /\[([^\]]+)\]/g;
            const strings = /("([^"\\]|\\.)*"|@"([^"]|"")*")/g;
            const numbers = /\b(\d+\.?\d*[fFdDmM]?|\d+[lLuU]*)\b/g;
            const comments = /(\/\/.*$|\/\*[\s\S]*?\*\/)/gm;

            return code
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(comments, '<span class="cs-comment">$1</span>')
                .replace(strings, '<span class="cs-string">$1</span>')
                .replace(attributes, '<span class="cs-attribute">[$1]</span>')
                .replace(types, '<span class="cs-type">$1</span>')
                .replace(keywords, '<span class="cs-keyword">$1</span>')
                .replace(numbers, '<span class="cs-number">$1</span>');
        }

        // HTML syntax highlighter
        function highlightHTML(code) {
            return code
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                // HTML comments
                .replace(/(&lt;!--[\s\S]*?--&gt;)/g, '<span class="html-comment">$1</span>')
                // DOCTYPE
                .replace(/(&lt;!DOCTYPE[^&]*&gt;)/gi, '<span class="html-doctype">$1</span>')
                // HTML entities (already escaped)
                .replace(/(&amp;[a-zA-Z]+;|&amp;#\d+;)/g, '<span class="html-entity">$1</span>')
                // Tags with attributes
                .replace(/(&lt;\/?)([\w-]+)([^&]*?)(&gt;)/g, function(match, openBracket, tagName, attributes, closeBracket) {
                    let result = openBracket + '<span class="html-tag">' + tagName + '</span>';
                    
                    // Highlight attributes
                    if (attributes) {
                        result += attributes.replace(/([\w-]+)(=)("[^"]*"|'[^']*')?/g, function(attrMatch, attrName, equals, attrValue) {
                            let highlighted = '<span class="html-attr-name">' + attrName + '</span>';
                            if (equals && attrValue) {
                                highlighted += equals + '<span class="html-attr-value">' + attrValue + '</span>';
                            }
                            return highlighted;
                        });
                    }
                    
                    result += closeBracket;
                    return result;
                });
        }

        // JavaScript syntax highlighter
        function highlightJavaScript(code) {
            const keywords = /\b(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|with|yield|async)\b/g;
            const functions = /\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*(?=\()/g;
            const strings = /('([^'\\]|\\.)*'|"([^"\\]|\\.)*"|`([^`\\]|\\.)*`)/g;
            const numbers = /\b(0x[0-9a-fA-F]+|\d+\.?\d*([eE][+-]?\d+)?)\b/g;
            const comments = /(\/\/.*$|\/\*[\s\S]*?\*\/)/gm;
            const booleans = /\b(true|false)\b/g;
            const nullUndefined = /\b(null|undefined)\b/g;
            const regex = /\/(?![*/])([^/\\\n]|\\.)+\/[gimuy]*/g;

            return code
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(comments, '<span class="js-comment">$1</span>')
                .replace(strings, '<span class="js-string">$1</span>')
                .replace(regex, '<span class="js-regex">$&</span>')
                .replace(keywords, '<span class="js-keyword">$1</span>')
                .replace(booleans, '<span class="js-boolean">$1</span>')
                .replace(nullUndefined, '<span class="js-null">$1</span>')
                .replace(functions, '<span class="js-function">$1</span>')
                .replace(numbers, '<span class="js-number">$1</span>');
        }

        // Apply syntax highlighting to code blocks
        function highlightCodeBlocks() {
            const codeBlocks = output.querySelectorAll('pre code');
            
            codeBlocks.forEach(block => {
                const language = Array.from(block.classList)
                    .find(cls => cls.startsWith('language-'))
                    ?.replace('language-', '');
                
                if (language) {
                    // Add language badge
                    const pre = block.parentElement;
                    pre.setAttribute('data-language', language);
                    
                    // Apply language-specific highlighting
                    const code = block.textContent;
                    
                    if (language === 'json') {
                        block.innerHTML = highlightJSON(code);
                    } else if (language === 'sql') {
                        block.innerHTML = highlightSQL(code);
                    } else if (language === 'csharp' || language === 'cs' || language === 'c#') {
                        block.innerHTML = highlightCSharp(code);
                    } else if (language === 'html') {
                        block.innerHTML = highlightHTML(code);
                    } else if (language === 'javascript' || language === 'js') {
                        block.innerHTML = highlightJavaScript(code);
                    }
                }
            });
        }

        // Render markdown content
        async function renderMarkdown(markdown) {
            const html = marked.parse(markdown);
            output.innerHTML = `<div class="markdown-content">${html}</div>`;

            // Wait a bit for DOM to update
            await new Promise(resolve => setTimeout(resolve, 100));

            // Apply syntax highlighting to code blocks
            highlightCodeBlocks();

            // Find all mermaid elements and render them
            const mermaidElements = output.querySelectorAll('.mermaid');

            for (let i = 0; i < mermaidElements.length; i++) {
                const element = mermaidElements[i];
                const graphDefinition = element.textContent.trim();
                const id = `mermaid-${Date.now()}-${i}`;

                try {
                    const { svg } = await mermaid.render(id, graphDefinition);
                    
                    // Create container for side-by-side display
                    const container = document.createElement('div');
                    container.className = 'mermaid-container';
                    
                    // Create diagram section
                    const diagramDiv = document.createElement('div');
                    diagramDiv.className = 'mermaid-diagram';
                    const mermaidDiv = document.createElement('div');
                    mermaidDiv.className = 'mermaid';
                    mermaidDiv.innerHTML = svg;
                    mermaidDiv.setAttribute('data-processed', 'true');
                    diagramDiv.appendChild(mermaidDiv);
                    
                    // Create code section
                    const codeDiv = document.createElement('div');
                    codeDiv.className = 'mermaid-code';
                    const pre = document.createElement('pre');
                    const code = document.createElement('code');
                    code.textContent = graphDefinition;
                    pre.appendChild(code);
                    codeDiv.appendChild(pre);
                    
                    // Add both to container
                    container.appendChild(diagramDiv);
                    container.appendChild(codeDiv);
                    
                    // Replace original element with container
                    element.parentNode.replaceChild(container, element);
                    
                    // Apply auto-sizing to SVG
                    autoSizeMermaidDiagram(mermaidDiv);
                } catch (error) {
                    console.error('Mermaid rendering error:', error);
                    // Remove the problematic mermaid div
                    element.remove();
                    // Show error in modal
                    showError(`Mermaid Diagram Rendering Error (Diagram ${i + 1}):\n\n${error.message}\n\nGraph Definition:\n${graphDefinition}`);
                }
            }
        }

        // Auto-size mermaid diagram function
        function autoSizeMermaidDiagram(element) {
            const svgElement = element.querySelector('svg');
            if (!svgElement) return;
            
            // Ensure visibility
            svgElement.style.opacity = '1';
            svgElement.style.visibility = 'visible';
            
            // Get original dimensions
            const originalWidth = svgElement.getAttribute('width');
            const originalHeight = svgElement.getAttribute('height');
            let viewBox = svgElement.getAttribute('viewBox');
            
            // If no viewBox but has width/height, create one
            if (!viewBox && originalWidth && originalHeight) {
                const w = parseFloat(originalWidth);
                const h = parseFloat(originalHeight);
                svgElement.setAttribute('viewBox', `0 0 ${w} ${h}`);
            }
            
            // Remove fixed dimensions to enable responsive sizing
            svgElement.removeAttribute('width');
            svgElement.removeAttribute('height');
            
            // Set responsive styles
            svgElement.style.maxWidth = '100%';
            svgElement.style.height = 'auto';
            svgElement.style.display = 'block';
            svgElement.style.margin = '0 auto';
            
            // Fix all child elements visibility
            const allElements = svgElement.querySelectorAll('*');
            allElements.forEach(el => {
                el.style.opacity = '1';
                el.style.visibility = 'visible';
            });
            
            // Fix text elements font size
            const textElements = svgElement.querySelectorAll('text');
            textElements.forEach(text => {
                const currentSize = parseFloat(window.getComputedStyle(text).fontSize);
                if (currentSize && currentSize > 20) {
                    text.style.fontSize = '14px';
                }
            });
            
            // Add resize observer to maintain aspect ratio
            if ('ResizeObserver' in window) {
                const resizeObserver = new ResizeObserver(entries => {
                    for (let entry of entries) {
                        const svg = entry.target;
                        const viewBox = svg.getAttribute('viewBox');
                        if (viewBox) {
                            const [, , width, height] = viewBox.split(' ').map(parseFloat);
                            const aspectRatio = width / height;
                            const containerWidth = entry.contentRect.width;
                            svg.style.width = `${Math.min(containerWidth, width)}px`;
                            svg.style.height = 'auto';
                        }
                    }
                });
                resizeObserver.observe(svgElement);
            }
        }

        // Handle window resize for all mermaid diagrams
        window.addEventListener('resize', debounce(() => {
            const mermaidElements = document.querySelectorAll('.mermaid[data-processed="true"]');
            mermaidElements.forEach(element => {
                autoSizeMermaidDiagram(element);
            });
        }, 250));

        // Debounce helper function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Load predefined content
        function loadPredefined(id) {
            const content = predefinedContent[id];
            if (content) {
                renderMarkdown(content);
                // Scroll to top of content area
                const contentElement = document.querySelector('.content');
                if (contentElement) {
                    contentElement.scrollTop = 0;
                }
                // Also scroll window to top
                window.scrollTo(0, 0);
                // Scroll output element to top
                const outputElement = document.getElementById('output');
                if (outputElement) {
                    outputElement.scrollTop = 0;
                }
            }
        }

        // Load from URL
        async function loadFromUrl() {
            const url = urlInput.value.trim();

            if (!url) {
                alert('Please enter a URL');
                return;
            }

            output.innerHTML = '<div class="loading"><h3>Loading from URL</h3></div>';

            try {
                const response = await fetch(url);

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const markdown = await response.text();
                renderMarkdown(markdown);
            } catch (error) {
                output.innerHTML = '<div class="empty-state"><h3>Failed to load URL</h3><p>See error details in the popup</p></div>';
                showError(`Error Loading URL:\n\n${error.message}\n\nURL: ${url}\n\nPlease make sure the URL is correct and publicly accessible.`);
            }
        }

        // Load from file
        fileInput.addEventListener('change', function (e) {
            const file = e.target.files[0];

            if (!file) return;

            const reader = new FileReader();

            reader.onload = function (event) {
                const markdown = event.target.result;
                renderMarkdown(markdown);
            };

            reader.onerror = function () {
                output.innerHTML = '<div class="empty-state"><h3>Failed to read file</h3><p>See error details in the popup</p></div>';
                showError(`Error Reading File:\n\nFailed to read the selected file.\n\nPlease try again with a valid markdown file.`);
            };

            reader.readAsText(file);
        });

        // Handle Enter key in URL input
        urlInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                loadFromUrl();
            }
        });

        // Menu item click handler
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function () {
                // Remove active class from all items
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));

                // Add active class to clicked item
                this.classList.add('active');

                // Load content
                const type = this.dataset.type;
                const id = this.dataset.id;

                if (type === 'predefined') {
                    loadPredefined(id);
                }

                // Close menu on mobile
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('open');
                }
            });
        });

        // Toggle mobile menu
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // Close menu when clicking outside on mobile
        document.addEventListener('click', function (e) {
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const menuBtn = document.querySelector('.mobile-menu-btn');

                if (!sidebar.contains(e.target) && !menuBtn.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });

        // Load welcome document by default
        window.addEventListener('load', function () {
            document.querySelector('[data-id="welcome"]').click();
            
            // Setup error modal click-outside handler after DOM is loaded
            const errorModal = document.getElementById('errorModal');
            if (errorModal) {
                errorModal.addEventListener('click', function (e) {
                    if (e.target === this) {
                        closeErrorModal();
                    }
                });
            }
        });

        // Modal functions
        function openMarkdownModal() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            document.getElementById('markdownModal').classList.add('open');
            document.getElementById('markdownInput').focus();
        }

        function closeMarkdownModal() {
            document.getElementById('markdownModal').classList.remove('open');
        }

        function submitMarkdown() {
            const markdown = document.getElementById('markdownInput').value.trim();

            if (!markdown) {
                alert('Please enter some markdown content');
                return;
            }

            renderMarkdown(markdown);
            closeMarkdownModal();

            // Remove active state from sidebar items
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
        }

        // Close modal when clicking outside
        document.getElementById('markdownModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeMarkdownModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                closeMarkdownModal();
                closeErrorModal();
            }
        });

        // Error modal functions
        function showError(message) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            const errorMessageEl = document.getElementById('errorMessage');
            const errorModalEl = document.getElementById('errorModal');
            if (errorMessageEl && errorModalEl) {
                errorMessageEl.textContent = message;
                errorModalEl.classList.add('open');
            } else {
                console.error('Error modal elements not found');
                alert('Error: ' + message);
            }
        }

        function closeErrorModal() {
            const errorModalEl = document.getElementById('errorModal');
            if (errorModalEl) {
                errorModalEl.classList.remove('open');
            }
        }

        // Close error modal when clicking outside
        document.getElementById('errorModal')?.addEventListener('click', function (e) {
            if (e.target === this) {
                closeErrorModal();
            }
        });
    </script>
</body>
</html>
